## 18-1. 일급 객체

**✨일급 객체의 조건**

1. 무명의 리터럴로 생성할 수 있다. 즉, 런타임에 생성 가능
2. 변수나 자료구조(객체, 배열 등)에 저장
3. 함수의 매개변수에 전달
4. 함수의 반환값으로 사용될 수 있다.

JS의 함수 위 조건을 모두 만족하므로 일급 객체이다.

**함수형 프로그래밍**: 특히 함수는 함수의 매개변수에 전달할 수 있고, 반환값으로 사용할 수 있다. 

 
>💡 **함수가 일급 객체라는 것 = 객체와 동일하게 사용 가능**
>
> 함수는 값을 사용할 수 있는 곳이라면 어디든지 리터럴로 정의 가능, 런타임에 함수 객체로 평가

 

---

## 18-2. 함수 객체의 프로퍼티

함수는 객체이므로, 함수도 프로퍼티를 가질 수 있다.

또한, 프로퍼티 어트리뷰트를 `Object.getOwnPropertyDescriptors`로 확인할 수 있다.

```jsx
function square(number) {
  return number * number;
}

console.dir(square);
```

<img width="319" height="291" alt="image" src="https://github.com/user-attachments/assets/8ea296ef-ca84-48d0-93d4-92eb8e1d7668" />


```jsx
function square(number) {
  return number * number;
}

console.log(Object.getOwnPropertyDescriptors(square));
/*
{
  length: {value: 1, writable: false, enumerable: false, configurable: true},
  name: {value: "square", writable: false, enumerable: false, configurable: true},
  arguments: {value: null, writable: false, enumerable: false, configurable: false},
  caller: {value: null, writable: false, enumerable: false, configurable: false},
  prototype: {value: {...}, writable: true, enumerable: false, configurable: false}
}
*/

// __proto__는 square 함수의 프로퍼티가 아니다.
console.log(Object.getOwnPropertyDescriptor(square, '__proto__')); // undefined

// __proto__는 Object.prototype 객체의 접근자 프로퍼티다.
// square 함수는 Object.prototype 객체로부터 __proto__ 접근자 프로퍼티를 상속받는다.
console.log(Object.getOwnPropertyDescriptor(Object.prototype, '__proto__'));
// {get: ƒ, set: ƒ, enumerable: false, configurable: true}
```

### 1) arguments 프로퍼티

함수 호출시 전달된 인수들의 정보를 담고 있는 순회 가능한 유사 배열 객체로, 함수 내부의 지역 변수처럼 사용된다.

함수 객체의 arguments를 일부 지원하지만 ES3 이후 표준에서 폐지되었으므로, Fucntion.arguments는 권장하지 않으며, 함수 내부에서 arguments 객체를 참조하자.

- 매개변수 인수를 적게 전달했을 때, 인수가 전달되지 않은 매개변수는 undefined로 추기화
- 매개변수의 개수보다 인수를 더 많이 전달했을 때, 초과된 인수는 무시, arguments에 저장

```jsx
function multiply(x, y) {
  console.log(arguments);
  return x * y;
}

console.log(multiply());        // NaN
console.log(multiply(1));       // NaN
console.log(multiply(1, 2));    // 2
console.log(multiply(1, 2, 3)); // 2
```

### 2) length 프로퍼티

함수를 정의할 때 선언한 매개변수의 개수

```jsx
function foo() {}
console.log(foo.length); // 0

function bar(x) {
  return x;
}
console.log(bar.length); // 1

function baz(x, y) {
  return x * y;
}
console.log(baz.length); // 2
```

### 3) name 프로퍼티

함수 이름. ES5에는 비표준이었다가 ES6에서 표준이 되었다. 

ES5에서는 name 프로퍼티가 **undefined**, ES6에서는 **식별자**를 값으로 갖는다.

```jsx
// 기명 함수 표현식
var namedFunc = function foo() {};
console.log(namedFunc.name); // foo

// 익명 함수 표현식
var anonymousFunc = function() {};
console.log(anonymousFunc.name); // anonymousFunc

// 함수 선언문(Function declaration)
function bar() {}
console.log(bar.name); // bar
```

### 4) __proto__ 접근자 프로퍼티

모든 객체는 [[Prototype]] 이라는 내부 슬롯을 가지며, __proto__는 [[Prototype]] 슬롯이 가리키는 프로토타입 객체에 접근하기 위해 사용하는 **접근자 프로퍼티**다.

[[Prototype]] 내부 슬롯에 직접 접근할 수 없고 __proto__로 간접적으로 접근할 수 있다.

```jsx
const obj = { a: 1 };

// 객체 리터럴 방식으로 생성한 객체의 프로토타입 객체는 Object.prototype이다.
console.log(obj.__proto__ === Object.prototype); // true

// 객체 리터럴 방식으로 생성한 객체는 프로토타입 객체인 Object.prototype의 프로퍼티를 상속받는다.
// hasOwnProperty 메서드는 Object.prototype의 메서드다.
console.log(obj.hasOwnProperty('a'));         // true
console.log(obj.hasOwnProperty('__proto__')); // false
```

### 5) prototype 프로퍼티

생성자 함수로 호출할 수 있는 함수 객체, constructor만이 소유하는 프로퍼티

```jsx
// 함수 객체는 prototype 프로퍼티를 소유한다.
(function () {}).hasOwnProperty('prototype'); // -> true

// 일반 객체는 prototype 프로퍼티를 소유하지 않는다.
({}).hasOwnProperty('prototype'); // -> false
```
